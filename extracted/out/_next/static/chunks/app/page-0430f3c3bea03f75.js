(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2217:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eT});var s=a(5155),r=a(2115),n=a(2596),l=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,n.$)(t))}let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("text-sm text-muted-foreground",a),...r})});m.displayName="CardDescription";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("p-6 pt-0",a),...r})});x.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var u=a(9708),f=a(2085);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:l=!1,...o}=e,d=l?u.DX:"button";return(0,s.jsx)(d,{className:i(h({variant:r,size:n,className:a})),ref:t,...o})});p.displayName="Button";let j=(0,f.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function g(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:i(j({variant:a}),t),...r})}let v=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),b=r.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:i(v({variant:r}),a),...n})});b.displayName="Alert",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:i("mb-1 font-medium leading-none tracking-tight",a),...r})}).displayName="AlertTitle";let N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("text-sm [&_p]:leading-relaxed",a),...r})});N.displayName="AlertDescription";var y=a(2098),w=a(3509),k=a(6517),C=a(4449),S=a(9892),_=a(6474),D=a(7863),A=a(5196);let R=S.bL;S.YJ;let L=S.WT,P=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(S.l9,{ref:t,className:i("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(S.In,{asChild:!0,children:(0,s.jsx)(_.A,{className:"h-4 w-4 opacity-50"})})]})});P.displayName=S.l9.displayName;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.PP,{ref:t,className:i("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(D.A,{className:"h-4 w-4"})})});O.displayName=S.PP.displayName;let z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.wn,{ref:t,className:i("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})});z.displayName=S.wn.displayName;let E=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...l}=e;return(0,s.jsx)(S.ZL,{children:(0,s.jsxs)(S.UC,{ref:t,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,s.jsx)(O,{}),(0,s.jsx)(S.LM,{className:i("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(z,{})]})})});E.displayName=S.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.JU,{ref:t,className:i("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=S.JU.displayName;let T=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(S.q7,{ref:t,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(S.VF,{children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})}),(0,s.jsx)(S.p4,{children:r})]})});T.displayName=S.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.wv,{ref:t,className:i("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=S.wv.displayName;var F=a(3904);function I(e){let{ports:t,selectedPort:a,baudRate:r,isConnected:n,onPortChange:l,onBaudRateChange:i,onConnect:o,onDisconnect:d,onRefreshPorts:c}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:"Serial Port"}),(0,s.jsxs)(R,{value:a,onValueChange:l,disabled:n,children:[(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{placeholder:"Select port"})}),(0,s.jsx)(E,{children:t.map(e=>(0,s.jsx)(T,{value:e.path,className:"text-sm",children:e.path},e.path))})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:"Baud Rate"}),(0,s.jsxs)(R,{value:r,onValueChange:i,disabled:n,children:[(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{})}),(0,s.jsxs)(E,{children:[(0,s.jsx)(T,{value:"9600",children:"9600"}),(0,s.jsx)(T,{value:"19200",children:"19200"}),(0,s.jsx)(T,{value:"38400",children:"38400"}),(0,s.jsx)(T,{value:"57600",children:"57600"}),(0,s.jsx)(T,{value:"115200",children:"115200"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,s.jsx)(p,{onClick:c,variant:"outline",size:"sm",disabled:n,className:"h-8 w-8 p-0 hover:scale-105 transition-transform duration-200",children:(0,s.jsx)(F.A,{className:"h-3 w-3"})}),n?(0,s.jsx)(p,{onClick:d,variant:"outline",className:"flex-1 h-8 text-sm hover:scale-105 transition-transform duration-200",children:"Disconnect"}):(0,s.jsx)(p,{onClick:o,disabled:!a,className:"flex-1 h-8 text-sm hover:scale-105 transition-transform duration-200",children:"Connect"})]})]})}function M(){return(0,s.jsx)("footer",{className:"border-t border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 text-center",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:(0,s.jsx)("a",{href:"https://www.mtroyal.ca/ProgramsCourses/FacultiesSchoolsCentres/ScienceTechnology/Departments/EarthEnvironmentalSciences/index.htm",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 no-underline transition-colors",children:"Mount Royal University \xa9 2025"})}),(0,s.jsx)("span",{className:"hidden sm:inline text-muted-foreground",children:"•"}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["\uD83D\uDEE0 developed by shivam walia, mechatronics @uwaterloo '29"," ",(0,s.jsx)("a",{href:"https://www.linkedin.com/in/shivam-walia-395877251/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 no-underline transition-colors",children:"[linkedIn]"})," ",(0,s.jsx)("a",{href:"https://github.com/shivam-2507",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 no-underline transition-colors",children:"[github]"})]})]})})})}function V(e){let{isConnected:t,error:a,isDarkMode:r,onToggleDarkMode:n,ports:l,selectedPort:i,baudRate:m,onPortChange:u,onBaudRateChange:f,onConnect:h,onDisconnect:j,onRefreshPorts:v}=e;return(0,s.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-center relative",children:[(0,s.jsx)(p,{onClick:n,variant:"outline",size:"icon",className:"absolute top-4 right-4 hover:scale-110 transition-transform duration-200",children:r?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"w-full max-w-xs",children:(0,s.jsxs)(o,{className:"shadow-lg",children:[(0,s.jsxs)(d,{className:"text-center pb-2 pt-4",children:[(0,s.jsx)(c,{className:"text-lg",children:"Serial Dashboard"}),(0,s.jsxs)(g,{variant:t?"default":"secondary",className:"flex items-center gap-1 w-fit mx-auto text-xs",children:[t?(0,s.jsx)(k.A,{className:"h-3 w-3"}):(0,s.jsx)(C.A,{className:"h-3 w-3"}),t?"Connected":"Disconnected"]})]}),(0,s.jsxs)(x,{className:"space-y-3 pb-4",children:[a&&(0,s.jsx)(b,{variant:"destructive",className:"py-2",children:(0,s.jsx)(N,{className:"text-xs",children:a})}),(0,s.jsx)(I,{ports:l,selectedPort:i,baudRate:m,isConnected:t,onPortChange:u,onBaudRateChange:f,onConnect:h,onDisconnect:j,onRefreshPorts:v})]})]})})]}),(0,s.jsx)(M,{})]})}var B=a(9137),H=a.n(B);function K(e){let{selectedPort:t,baudRate:a}=e;return(0,s.jsxs)("div",{className:"jsx-9dd8ce618649b9a2 min-h-screen bg-background flex items-center justify-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-9dd8ce618649b9a2 w-full max-w-xs slide-out-animation",children:(0,s.jsxs)(o,{className:"shadow-lg",children:[(0,s.jsxs)(d,{className:"text-center pb-2 pt-4",children:[(0,s.jsx)(c,{className:"text-lg",children:"Serial Dashboard"}),(0,s.jsxs)(g,{variant:"default",className:"flex items-center gap-1 w-fit mx-auto text-xs",children:[(0,s.jsx)(k.A,{className:"h-3 w-3"}),"Connected"]})]}),(0,s.jsxs)(x,{className:"space-y-3 pb-4",children:[(0,s.jsxs)("div",{className:"jsx-9dd8ce618649b9a2 space-y-1",children:[(0,s.jsx)("label",{className:"jsx-9dd8ce618649b9a2 text-xs font-medium text-muted-foreground",children:"Serial Port"}),(0,s.jsx)(R,{value:t,disabled:!0,children:(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{})})})]}),(0,s.jsxs)("div",{className:"jsx-9dd8ce618649b9a2 space-y-1",children:[(0,s.jsx)("label",{className:"jsx-9dd8ce618649b9a2 text-xs font-medium text-muted-foreground",children:"Baud Rate"}),(0,s.jsx)(R,{value:a,disabled:!0,children:(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{})})})]}),(0,s.jsxs)("div",{className:"jsx-9dd8ce618649b9a2 flex gap-2 pt-1",children:[(0,s.jsx)(p,{variant:"outline",size:"sm",disabled:!0,className:"h-8 w-8 p-0",children:(0,s.jsx)(F.A,{className:"h-3 w-3"})}),(0,s.jsx)(p,{variant:"outline",disabled:!0,className:"flex-1 h-8 text-sm",children:"Connected"})]})]})]})}),(0,s.jsx)(H(),{id:"9dd8ce618649b9a2",children:".slide-out-animation.jsx-9dd8ce618649b9a2{-webkit-animation:slideOut.8s ease-in-out forwards;-moz-animation:slideOut.8s ease-in-out forwards;-o-animation:slideOut.8s ease-in-out forwards;animation:slideOut.8s ease-in-out forwards}@-webkit-keyframes slideOut{0%{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}100%{-webkit-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}}@-moz-keyframes slideOut{0%{-moz-transform:translatex(0);transform:translatex(0);opacity:1}100%{-moz-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}}@-o-keyframes slideOut{0%{-o-transform:translatex(0);transform:translatex(0);opacity:1}100%{-o-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}}@keyframes slideOut{0%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}100%{-webkit-transform:translatex(-100vw);-moz-transform:translatex(-100vw);-o-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}}"})]})}var U=a(4213),W=a(3109);function q(e){let{isDarkMode:t,onToggleDarkMode:a,ports:r,selectedPort:n,baudRate:l,error:i,isLogging:m,loggedCount:u}=e;return(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 min-h-screen bg-background flex items-center justify-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-55f78c4f7d376968 dashboard-fade-out absolute inset-0",children:(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968",children:[(0,s.jsx)("h1",{className:"jsx-55f78c4f7d376968 text-3xl font-bold",children:"Environmental Sensor Dashboard"}),(0,s.jsx)("p",{className:"jsx-55f78c4f7d376968 text-muted-foreground",children:"Real-time monitoring of air quality and environmental data"})]}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 flex items-center gap-4",children:[(0,s.jsx)(p,{variant:"outline",size:"icon",disabled:!0,children:t?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsxs)(g,{variant:"secondary",className:"flex items-center gap-2",children:[(0,s.jsx)(k.A,{className:"h-4 w-4"}),"Disconnecting"]}),(0,s.jsx)(p,{variant:"outline",size:"sm",disabled:!0,children:"Disconnect"})]})]}),(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsxs)(c,{className:"flex items-center gap-2",children:[(0,s.jsx)(U.A,{className:"h-5 w-5"}),"Data Logging"]})}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"jsx-55f78c4f7d376968 flex items-center justify-between",children:(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968",children:[(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 font-medium",children:["Status: ",m?"Recording":"Stopped"]}),(0,s.jsx)("div",{className:"jsx-55f78c4f7d376968 text-sm text-muted-foreground",children:m?"".concat(u," records logged"):"Disconnecting..."})]}),(0,s.jsx)(g,{variant:"secondary",children:"Disconnecting"})]})})})]}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsx)(c,{children:"Live Sensor Data"})}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"jsx-55f78c4f7d376968 text-center py-8 text-muted-foreground",children:"Disconnecting..."})})]}),(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsxs)(c,{className:"flex items-center gap-2",children:[(0,s.jsx)(W.A,{className:"h-5 w-5"}),"Real-time Chart"]})}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"jsx-55f78c4f7d376968 h-96 flex items-center justify-center text-muted-foreground",children:"Disconnecting..."})})]})]})]})}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 w-full max-w-xs slide-in-animation",children:[(0,s.jsx)(p,{onClick:a,variant:"outline",size:"icon",className:"absolute top-4 right-4",children:t?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsxs)(o,{className:"shadow-lg",children:[(0,s.jsxs)(d,{className:"text-center pb-2 pt-4",children:[(0,s.jsx)(c,{className:"text-lg",children:"Serial Dashboard"}),(0,s.jsxs)(g,{variant:"secondary",className:"flex items-center gap-1 w-fit mx-auto text-xs",children:[(0,s.jsx)(C.A,{className:"h-3 w-3"}),"Disconnected"]})]}),(0,s.jsxs)(x,{className:"space-y-3 pb-4",children:[i&&(0,s.jsx)(b,{variant:"destructive",className:"py-2",children:(0,s.jsx)(N,{className:"text-xs",children:i})}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 space-y-1",children:[(0,s.jsx)("label",{className:"jsx-55f78c4f7d376968 text-xs font-medium text-muted-foreground",children:"Serial Port"}),(0,s.jsxs)(R,{value:n,disabled:!0,children:[(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{placeholder:"Select port"})}),(0,s.jsx)(E,{children:r.map(e=>(0,s.jsx)(T,{value:e.path,className:"text-sm",children:e.path},e.path))})]})]}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 space-y-1",children:[(0,s.jsx)("label",{className:"jsx-55f78c4f7d376968 text-xs font-medium text-muted-foreground",children:"Baud Rate"}),(0,s.jsxs)(R,{value:l,disabled:!0,children:[(0,s.jsx)(P,{className:"h-8 text-sm",children:(0,s.jsx)(L,{})}),(0,s.jsxs)(E,{children:[(0,s.jsx)(T,{value:"9600",children:"9600"}),(0,s.jsx)(T,{value:"19200",children:"19200"}),(0,s.jsx)(T,{value:"38400",children:"38400"}),(0,s.jsx)(T,{value:"57600",children:"57600"}),(0,s.jsx)(T,{value:"115200",children:"115200"})]})]})]}),(0,s.jsxs)("div",{className:"jsx-55f78c4f7d376968 flex gap-2 pt-1",children:[(0,s.jsx)(p,{variant:"outline",size:"sm",disabled:!0,className:"h-8 w-8 p-0",children:(0,s.jsx)(F.A,{className:"h-3 w-3"})}),(0,s.jsx)(p,{disabled:!0,className:"flex-1 h-8 text-sm",children:"Disconnected"})]})]})]})]}),(0,s.jsx)(H(),{id:"55f78c4f7d376968",children:".dashboard-fade-out.jsx-55f78c4f7d376968{-webkit-animation:fadeOut.8s ease-in-out forwards;-moz-animation:fadeOut.8s ease-in-out forwards;-o-animation:fadeOut.8s ease-in-out forwards;animation:fadeOut.8s ease-in-out forwards}.slide-in-animation.jsx-55f78c4f7d376968{-webkit-animation:slideIn.8s ease-in-out forwards;-moz-animation:slideIn.8s ease-in-out forwards;-o-animation:slideIn.8s ease-in-out forwards;animation:slideIn.8s ease-in-out forwards}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-moz-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-o-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes slideIn{0%{-webkit-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}100%{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{0%{-moz-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}100%{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{0%{-o-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}100%{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{0%{-webkit-transform:translatex(-100vw);-moz-transform:translatex(-100vw);-o-transform:translatex(-100vw);transform:translatex(-100vw);opacity:0}100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}"})]})}var J=a(5690),Q=a(8979),X=a(1788);let Y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:i("w-full caption-bottom text-sm",a),...r})})});Y.displayName="Table";let Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:i("[&_tr]:border-b",a),...r})});Z.displayName="TableHeader";let $=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:i("[&_tr:last-child]:border-0",a),...r})});$.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let G=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});G.displayName="TableRow";let ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});ee.displayName="TableHead";let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});et.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:i("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var ea=a(7028);let es=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(ea.bL,{ref:t,className:i("relative overflow-hidden",a),...n,children:[(0,s.jsx)(ea.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(er,{}),(0,s.jsx)(ea.OK,{})]})});es.displayName=ea.bL.displayName;let er=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...n}=e;return(0,s.jsx)(ea.VM,{ref:t,orientation:r,className:i("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,s.jsx)(ea.lr,{className:"relative flex-1 rounded-full bg-border"})})});er.displayName=ea.VM.displayName;var en=a(2652);let el={temp:"Temperature (\xb0C)",humid:"Humidity (%)",ch4:"CH4 (ppm)",co2:"CO2 (ppm)",tvoc:"TVOC (ppb)",co:"CO (ppm)",nox:"NOx (ppm)",pm_1_0:"PM1.0 (μg/m\xb3)",pm_2_5:"PM2.5 (μg/m\xb3)",pm_10_0:"PM10.0 (μg/m\xb3)"};function ei(e){let{currentData:t}=e;return(0,s.jsxs)(o,{children:[(0,s.jsxs)(d,{children:[(0,s.jsxs)(c,{className:"flex items-center gap-2",children:[(0,s.jsx)(en.A,{className:"h-5 w-5 text-blue-500 hover:text-blue-600 transition-transform hover:scale-110"}),"Live Sensor Data"]}),(0,s.jsx)(m,{children:"Current readings from all sensors"})]}),(0,s.jsx)(x,{children:t?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(t.timestamp).toLocaleTimeString()]}),(0,s.jsx)(es,{className:"h-96",children:(0,s.jsxs)(Y,{children:[(0,s.jsx)(Z,{children:(0,s.jsxs)(G,{children:[(0,s.jsx)(ee,{children:"Sensor"}),(0,s.jsx)(ee,{children:"Value"}),(0,s.jsx)(ee,{children:"Unit"})]})}),(0,s.jsxs)($,{children:[Object.entries(el).map(e=>{var a;let[r,n]=e,l=t[r],i=(null===(a=n.match(/\(([^)]+)\)/))||void 0===a?void 0:a[1])||"",o=n.replace(/\s*\([^)]+\)/,"");return console.log("\uD83D\uDCA1 Current Data in Table:",t),(0,s.jsxs)(G,{children:[(0,s.jsx)(et,{className:"font-medium",children:o}),(0,s.jsx)(et,{className:"font-mono",children:"number"!=typeof l||isNaN(l)?"—":l.toFixed(2)}),(0,s.jsx)(et,{className:"text-muted-foreground",children:i})]},r)}),"number"==typeof t.lat&&"number"==typeof t.lon&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(G,{children:[(0,s.jsx)(et,{className:"font-medium",children:"Latitude"}),(0,s.jsx)(et,{className:"font-mono",children:Number(t.lat).toFixed(6)}),(0,s.jsx)(et,{className:"text-muted-foreground",children:"\xb0"})]}),(0,s.jsxs)(G,{children:[(0,s.jsx)(et,{className:"font-medium",children:"Longitude"}),(0,s.jsx)(et,{className:"font-mono",children:Number(t.lon).toFixed(6)}),(0,s.jsx)(et,{className:"text-muted-foreground",children:"\xb0"})]})]})]})]})})]}):(0,s.jsx)("div",{className:"mt-40 text-center py-8 text-muted-foreground",children:"Waiting for sensor data..."})})]})}var eo=a(3540),ed=a(7951),ec=a(2319);let em={light:"",dark:".dark"},ex=r.createContext(null);function eu(){let e=r.useContext(ex);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let ef=r.forwardRef((e,t)=>{let{id:a,className:n,children:l,config:o,...d}=e,c=r.useId(),m="chart-".concat(a||c.replace(/:/g,""));return(0,s.jsx)(ex.Provider,{value:{config:o},children:(0,s.jsxs)("div",{"data-chart":m,ref:t,className:i("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...d,children:[(0,s.jsx)(eh,{id:m,config:o}),(0,s.jsx)(eo.u,{children:l})]})})});ef.displayName="Chart";let eh=e=>{let{id:t,config:a}=e,r=Object.entries(a).filter(e=>{let[t,a]=e;return a.theme||a.color});return r.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(em).map(e=>{let[a,s]=e;return"\n".concat(s," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[s,r]=e,n=(null===(t=r.theme)||void 0===t?void 0:t[a])||r.color;return n?"  --color-".concat(s,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},ep=ed.m,ej=r.forwardRef((e,t)=>{var a,n,l;let o=e.active,d=e.payload,c=e.className,m=null!==(a=e.indicator)&&void 0!==a?a:"dot",x=null!==(n=e.hideLabel)&&void 0!==n&&n,u=null!==(l=e.hideIndicator)&&void 0!==l&&l,f=e.label,h=e.labelFormatter,p=e.labelClassName,j=e.formatter,g=e.color,v=e.nameKey,b=e.labelKey,{config:N}=eu(),y=r.useMemo(()=>{var e;if(x||!d||!d.length)return null;let[t]=d,a="".concat(b||t.dataKey||t.name||"value"),r=eg(N,t,a),n=b||"string"!=typeof f?null==r?void 0:r.label:(null===(e=N[f])||void 0===e?void 0:e.label)||f;return h?(0,s.jsx)("div",{className:i("font-medium",p),children:h(n,d)}):n?(0,s.jsx)("div",{className:i("font-medium",p),children:n}):null},[f,h,d,x,p,N,b]);if(!o||!d||!d.length)return null;let w=1===d.length&&"dot"!==m;return(0,s.jsxs)("div",{ref:t,className:i("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",c),children:[w?null:y,(0,s.jsx)("div",{className:"grid gap-1.5",children:d.map((e,t)=>{let a="".concat(v||e.name||e.dataKey||"value"),r=eg(N,e,a),n=g||e.payload&&e.payload.fill||e.color;return(0,s.jsx)("div",{className:i("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===m&&"items-center"),children:j&&(null==e?void 0:e.value)!==void 0&&e.name?j(e.value,e.name,e,t,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==r?void 0:r.icon)?(0,s.jsx)(r.icon,{}):!u&&(0,s.jsx)("div",{className:i("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===m,"w-1":"line"===m,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===m,"my-0.5":w&&"dashed"===m}),style:{"--color-bg":n,"--color-border":n}}),(0,s.jsxs)("div",{className:i("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[w?y:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function eg(e,t,a){if("object"!=typeof t||null===t)return;let s="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=a;return a in t&&"string"==typeof t[a]?r=t[a]:s&&a in s&&"string"==typeof s[a]&&(r=s[a]),r in e?e[r]:e[a]}ej.displayName="ChartTooltip",ec.s,r.forwardRef((e,t)=>{var a,r;let n=e.className,l=null!==(a=e.hideIcon)&&void 0!==a&&a,o=null!==(r=e.verticalAlign)&&void 0!==r?r:"bottom",d=e.nameKey,c=e.payload,{config:m}=eu();return c&&c.length?(0,s.jsx)("div",{ref:t,className:i("flex items-center justify-center gap-4","top"===o?"pb-3":"pt-3",n),children:c.map(e=>{let t="".concat(d||e.dataKey||"value"),a=eg(m,e,t);return(0,s.jsxs)("div",{className:i("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==a?void 0:a.icon)&&!l?(0,s.jsx)(a.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==a?void 0:a.label]},e.value)})}):null}).displayName="ChartLegend";var ev=a(9354),eb=a(4754),eN=a(6025),ey=a(2071),ew=a(5989);let ek={temp:"Temperature (\xb0C)",humid:"Humidity (%)",ch4:"CH4 (ppm)",co2:"CO2 (ppm)",tvoc:"TVOC (ppb)",co:"CO (ppm)",nox:"NOx (ppm)",pm_1_0:"PM1.0 (μg/m\xb3)",pm_2_5:"PM2.5 (μg/m\xb3)",pm_10_0:"PM10.0 (μg/m\xb3)"},eC={temp:"#0080FF",humid:"#FF6B35",ch4:"#FF1744",co2:"#4CAF50",tvoc:"#FFEB3B",co:"#795548",nox:"#9C27B0",pm_1_0:"#607D8B",pm_2_5:"#E91E63",pm_10_0:"#00BCD4"},eS=Object.keys(ek);function e_(e){let{chartData:t,selectedChart:a,onChartChange:n,onExpandChart:l}=e,i=(0,r.useMemo)(()=>({value:{label:ek[a],color:eC[a]}}),[a]),u=eC[a];return(0,s.jsxs)(o,{className:"cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all duration-300 ease-in-out relative",onClick:l,children:[(0,s.jsxs)(d,{className:"pb-2",children:[(0,s.jsxs)(c,{className:"flex items-center gap-2",children:[(0,s.jsx)(W.A,{className:"h-5 w-5",style:{color:u}}),"Real-time Chart Preview"]}),(0,s.jsx)(m,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{children:["Live data visualization (last ",t.length," points) - Click to expand"]}),(0,s.jsxs)(R,{value:a,onValueChange:n,children:[(0,s.jsx)(P,{className:"w-48",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(L,{})}),(0,s.jsx)(E,{children:eS.map(e=>(0,s.jsx)(T,{value:e,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:eC[e]}}),ek[e]]})},e))})]})]})})]}),(0,s.jsx)("div",{className:"h-8"}),(0,s.jsx)(x,{className:"pt-0 pb-4",children:t.length>0?(0,s.jsx)("div",{className:"relative -ml-6 -mr-2 transform translate-y-0 -translate-x-1",children:(0,s.jsx)(ef,{config:i,className:"h-[400px] w-full",children:(0,s.jsx)(eo.u,{width:"100%",height:"100%",children:(0,s.jsxs)(ev.b,{data:t,margin:{top:20,right:5,left:0,bottom:20},children:[(0,s.jsx)(eb.d,{strokeDasharray:"3 3"}),(0,s.jsx)(eN.W,{dataKey:"timestamp",tick:{fontSize:10},interval:"preserveStartEnd",axisLine:!1,tickLine:!1}),(0,s.jsx)(ey.h,{tick:{fontSize:10},axisLine:!1,tickLine:!1,domain:["dataMin - 2","dataMax + 2"]}),(0,s.jsx)(ep,{content:(0,s.jsx)(ej,{})}),(0,s.jsx)(ew.N,{type:"monotone",dataKey:"value",stroke:u,strokeWidth:2,dot:!1,name:ek[a],isAnimationActive:!0,animationDuration:200,connectNulls:!1})]})})})}):(0,s.jsx)("div",{className:"h-[400px] flex items-center justify-center text-muted-foreground transform translate-y-4",children:"Waiting for data to populate chart..."})})]})}var eD=a(5164),eA=a(4416);let eR={temp:"Temperature (\xb0C)",humid:"Humidity (%)",ch4:"CH4 (ppm)",co2:"CO2 (ppm)",tvoc:"TVOC (ppb)",co:"CO (ppm)",nox:"NOx (ppm)",pm_1_0:"PM1.0 (μg/m\xb3)",pm_2_5:"PM2.5 (μg/m\xb3)",pm_10_0:"PM10.0 (μg/m\xb3)"},eL={temp:"#0080FF",humid:"#FF6B35",ch4:"#FF1744",co2:"#4CAF50",tvoc:"#FFEB3B",co:"#795548",nox:"#9C27B0",pm_1_0:"#607D8B",pm_2_5:"#E91E63",pm_10_0:"#00BCD4"},eP=Object.keys(eR);function eO(e){var t,a;let{isOpen:n,onClose:l,allChartData:i,selectedChart:o,onChartChange:d}=e,[c,m]=(0,r.useState)([]),x=(0,r.useRef)(0),u=(0,r.useRef)(o),[f,h]=(0,r.useState)(null),[j,g]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),[N,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l()};if(n)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,l]),(0,r.useEffect)(()=>{let e=i[o]||[];if(u.current!==o){u.current=o,x.current=0,m(e.reduce((e,t)=>{if(-1===t.value){let a=e.length>0?e[e.length-1].value:0;e.push({...t,value:a})}else e.push(t);return e},[])),x.current=e.length;return}if(e.length>x.current){let t=e.slice(x.current);m(e=>{let a=[...e];return t.forEach(e=>{if(-1===e.value){let t=a.length>0?a[a.length-1].value:0;a.push({...e,value:t})}else a.push(e)}),a}),x.current=e.length}},[i,o]),(0,r.useEffect)(()=>{if(n){let e=i[o]||[];m(e.reduce((e,t)=>{if(-1===t.value){let a=e.length>0?e[e.length-1].value:0;e.push({...t,value:a})}else e.push(t);return e},[])),x.current=e.length,u.current=o}},[n,o,i]);let w=(0,r.useCallback)(e=>{e&&e.activeLabel&&(h(e.activeLabel),g(e.activeLabel),b(!0),y(null))},[]),k=(0,r.useCallback)(e=>{v&&e&&e.activeLabel&&g(e.activeLabel)},[v]),C=(0,r.useCallback)(()=>{if(v&&f&&j){let e=c.findIndex(e=>e.timestamp===f),t=c.findIndex(e=>e.timestamp===j);if(-1!==e&&-1!==t){let a=Math.min(e,t),s=Math.max(e,t),r=c[a],n=c[s],l=n.value-r.value,i=0!==r.value?l/r.value*100:0;y({startValue:r.value,endValue:n.value,change:l,changePercent:i,startTime:new Date(r.fullTimestamp).toLocaleString(),endTime:new Date(n.fullTimestamp).toLocaleString()})}}b(!1)},[v,f,j,c]),S=(0,r.useCallback)(()=>{h(null),g(null),y(null),b(!1)},[]),_=(0,r.useMemo)(()=>({value:{label:eR[o],color:eL[o]}}),[o]),D=eL[o];return n?(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center",onClick:l,children:(0,s.jsx)("div",{className:"bg-background rounded-lg shadow-lg max-w-6xl w-full max-h-[90vh] overflow-hidden m-4",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:D}}),eR[o]," - Full History"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(R,{value:o,onValueChange:d,children:[(0,s.jsx)(P,{className:"w-48",children:(0,s.jsx)(L,{})}),(0,s.jsx)(E,{children:eP.map(e=>(0,s.jsx)(T,{value:e,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:eL[e]}}),eR[e]]})},e))})]}),N&&(0,s.jsx)(p,{onClick:S,variant:"outline",size:"sm",className:"hover:scale-105 transition-transform duration-200",children:"Clear Selection"}),(0,s.jsxs)(p,{onClick:()=>{if(0===c.length)return;let e=new Blob([["timestamp,value",...c.map(e=>"".concat(e.fullTimestamp,",").concat(e.value))].join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="".concat(o,"-chart-data.csv"),a.click(),URL.revokeObjectURL(t)},variant:"outline",size:"sm",disabled:0===c.length,className:"hover:scale-105 transition-transform duration-200 disabled:hover:scale-100",children:[(0,s.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,s.jsx)(p,{onClick:l,variant:"default",size:"sm",className:"bg-black hover:bg-gray-800 text-white hover:scale-105 transition-all duration-200",children:(0,s.jsx)(eA.A,{className:"h-4 w-4"})})]})]}),N&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-muted rounded-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-muted-foreground",children:"Start Value"}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:N.startValue.toFixed(2)}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:N.startTime})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-muted-foreground",children:"End Value"}),(0,s.jsx)("div",{className:"text-lg font-semibold",children:N.endValue.toFixed(2)}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:N.endTime})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-muted-foreground",children:"Change"}),(0,s.jsxs)("div",{className:"text-lg font-semibold ".concat(N.change>=0?"text-green-600":"text-red-600"),children:[N.change>=0?"+":"",N.change.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-muted-foreground",children:"Change %"}),(0,s.jsxs)("div",{className:"text-lg font-semibold ".concat(N.changePercent>=0?"text-green-600":"text-red-600"),children:[N.changePercent>=0?"+":"",N.changePercent.toFixed(2),"%"]})]})]})}),(0,s.jsx)("div",{children:c.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center justify-between",children:[(0,s.jsxs)("span",{children:["Showing ",c.length," data points from"," ",new Date(null===(t=c[0])||void 0===t?void 0:t.fullTimestamp).toLocaleString()," to"," ",new Date(null===(a=c[c.length-1])||void 0===a?void 0:a.fullTimestamp).toLocaleString()]}),(0,s.jsx)("span",{className:"text-xs",children:"\uD83D\uDCA1 Click and drag on the chart to measure changes"})]}),(0,s.jsx)(ef,{config:_,className:"h-[500px] w-full",children:(0,s.jsx)(eo.u,{width:"100%",height:"100%",children:(0,s.jsxs)(ev.b,{data:c,margin:{top:20,right:30,left:20,bottom:60},onMouseDown:w,onMouseMove:k,onMouseUp:C,children:[(0,s.jsx)(eb.d,{strokeDasharray:"3 3"}),(0,s.jsx)(eN.W,{dataKey:"timestamp",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80,interval:"preserveStartEnd"}),(0,s.jsx)(ey.h,{tick:{fontSize:12},domain:["dataMin - 5","dataMax + 5"]}),(0,s.jsx)(ep,{content:(0,s.jsx)(ej,{}),labelFormatter:(e,t)=>t&&t[0]?new Date(t[0].payload.fullTimestamp).toLocaleString():e}),f&&j&&(0,s.jsx)(eD.T,{x1:f,x2:j,fill:D,fillOpacity:.2,stroke:D,strokeOpacity:.6,strokeWidth:2,strokeDasharray:"5 5"}),(0,s.jsx)(ew.N,{type:"monotone",dataKey:"value",stroke:D,strokeWidth:2,dot:!1,name:eR[o],connectNulls:!1})]})})})]}):(0,s.jsxs)("div",{className:"h-[500px] flex items-center justify-center text-muted-foreground",children:["No data available for ",eR[o]]})})]})})}):null}function ez(e){let{isConnected:t,isLogging:a,loggedCount:n,error:l,currentData:i,chartData:m,allChartData:u,selectedChart:f,isDarkMode:h,onToggleDarkMode:j,onDisconnect:v,onStartLogging:S,onStopLogging:_,onExportCSV:D,onChartChange:A}=e,[R,L]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"jsx-1847a712d398169b min-h-screen bg-background dashboard-fade-in flex flex-col",children:[(0,s.jsx)("div",{className:"jsx-1847a712d398169b flex-1",children:(0,s.jsxs)("div",{className:"jsx-1847a712d398169b container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-1847a712d398169b flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"jsx-1847a712d398169b",children:[(0,s.jsx)("h1",{className:"jsx-1847a712d398169b text-2xl sm:text-3xl font-bold",children:"Environmental Sensor Dashboard"}),(0,s.jsx)("p",{className:"jsx-1847a712d398169b text-muted-foreground text-sm sm:text-base",children:"Real-time monitoring of air quality and environmental data"})]}),(0,s.jsxs)("div",{className:"jsx-1847a712d398169b flex items-center gap-2 sm:gap-4",children:[(0,s.jsx)(p,{onClick:j,variant:"outline",size:"icon",className:"hover:scale-110 transition-transform duration-200",children:h?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsxs)(g,{variant:t?"default":"secondary",className:"flex items-center gap-2 ".concat(t?"bg-blue-600 text-white":""),children:[t?(0,s.jsx)(k.A,{className:"h-4 w-4"}):(0,s.jsx)(C.A,{className:"h-4 w-4"}),t?"Connected":"Disconnected"]}),(0,s.jsx)(p,{onClick:v,variant:"outline",size:"sm",className:"hover:scale-105 transition-transform duration-200",children:"Disconnect"})]})]}),l&&(0,s.jsx)(b,{variant:"destructive",children:(0,s.jsx)(N,{children:l})}),(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:(0,s.jsxs)(c,{className:"flex items-center gap-2",children:[(0,s.jsx)(U.A,{className:"h-5 w-5 text-green-500 hover:text-green-600 transition-transform hover:scale-110"}),"Data Logging"]})}),(0,s.jsx)(x,{children:(0,s.jsxs)("div",{className:"jsx-1847a712d398169b flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"jsx-1847a712d398169b flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"jsx-1847a712d398169b",children:[(0,s.jsxs)("div",{className:"jsx-1847a712d398169b font-medium",children:["Status: ",a?"Recording":"Stopped"]}),(0,s.jsx)("div",{className:"jsx-1847a712d398169b text-sm text-muted-foreground",children:a?"".concat(n," records logged"):"Click start to begin logging"})]}),(0,s.jsx)(g,{variant:a?"default":"secondary",children:a?"Recording":"Idle"})]}),(0,s.jsxs)("div",{className:"jsx-1847a712d398169b flex gap-2",children:[a?(0,s.jsxs)(p,{onClick:_,variant:"outline",className:"hover:scale-105 transition-transform duration-200",children:[(0,s.jsx)(Q.A,{className:"h-4 w-4 mr-2"}),"Stop Logging"]}):(0,s.jsxs)(p,{onClick:S,className:"bg-blue-700 text-white hover:scale-105 transition-transform duration-200",children:[(0,s.jsx)(J.A,{className:"h-4 w-4 mr-2"}),"Start Logging"]}),(0,s.jsxs)(p,{onClick:D,variant:"outline",disabled:0===n,className:"hover:scale-105 transition-transform duration-200 disabled:hover:scale-100",children:[(0,s.jsx)(X.A,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})})]}),(0,s.jsxs)("div",{className:"jsx-1847a712d398169b grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 pb-8",children:[(0,s.jsx)(ei,{currentData:i}),(0,s.jsx)(e_,{chartData:m,selectedChart:f,onChartChange:A,onExpandChart:()=>L(!0)})]})]})}),(0,s.jsx)("div",{className:"jsx-1847a712d398169b mt-auto",children:(0,s.jsx)(M,{})}),(0,s.jsx)(eO,{isOpen:R,onClose:()=>L(!1),allChartData:u,selectedChart:f,onChartChange:A}),(0,s.jsx)(H(),{id:"1847a712d398169b",children:".dashboard-fade-in.jsx-1847a712d398169b{-webkit-animation:fadeIn.5s ease-in-out;-moz-animation:fadeIn.5s ease-in-out;-o-animation:fadeIn.5s ease-in-out;animation:fadeIn.5s ease-in-out}@-webkit-keyframes fadeIn{0%{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}100%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{0%{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}100%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{0%{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}100%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{0%{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}100%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}let eE={temp:"Temperature (\xb0C)",humid:"Humidity (%)",ch4:"CH4 (ppm)",co2:"CO2 (ppm)",tvoc:"TVOC (ppb)",co:"CO (ppm)",nox:"NOx (ppm)",pm_1_0:"PM1.0 (μg/m\xb3)",pm_2_5:"PM2.5 (μg/m\xb3)",pm_10_0:"PM10.0 (μg/m\xb3)"};function eT(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)("9600"),[u,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[j,g]=(0,r.useState)(null),[v,b]=(0,r.useState)([]),[N,y]=(0,r.useState)([]),[w,k]=(0,r.useState)({}),[C,S]=(0,r.useState)("temp"),[_,D]=(0,r.useState)(0),[A,R]=(0,r.useState)(""),[L,P]=(0,r.useState)(!1),[O,z]=(0,r.useState)(!1),[E,T]=(0,r.useState)(!1),[F,I]=(0,r.useState)(!1),[M,B]=(0,r.useState)(!1),H=(0,r.useRef)({});(0,r.useEffect)(()=>{P(void 0!==window.electronAPI),"dark"===localStorage.getItem("theme")&&(I(!0),document.documentElement.classList.add("dark"))},[]);let U=()=>{I(!F),F?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))},W=(0,r.useCallback)(async()=>{if(L)try{let e=await window.electronAPI.getSerialPorts();t(e)}catch(e){R("Failed to load serial ports")}},[L]);(0,r.useEffect)(()=>L?(W(),window.electronAPI.onSerialData((e,t)=>{g(t),b(e=>[t,...e.slice(0,99)]),Object.keys(eE).forEach(e=>{let a=t[e];if(null!=a){var s,r;let n={timestamp:new Date(t.timestamp).toLocaleTimeString(),value:-1===a?(null===(r=H.current[e])||void 0===r?void 0:null===(s=r.slice(-1)[0])||void 0===s?void 0:s.value)||0:a,fullTimestamp:t.timestamp};H.current[e]||(H.current[e]=[]),H.current[e]=[...H.current[e].slice(-49),n],k(t=>({...t,[e]:[...t[e]||[],n]}))}}),H.current[C]&&y([...H.current[C]]),h&&D(e=>e+1)}),window.electronAPI.onSerialStatus((e,t)=>{f(t.connected),t.connected&&!E&&(z(!0),setTimeout(()=>{z(!1),T(!0)},800)),t.connected||(p(!1),D(0),T(!1),y([]),k({}),H.current={})}),window.electronAPI.onSerialError((e,t)=>{R(t)}),()=>{window.electronAPI.removeAllListeners("serial-data"),window.electronAPI.removeAllListeners("serial-status"),window.electronAPI.removeAllListeners("serial-error")}):void 0,[L,h,C,E]),(0,r.useEffect)(()=>{H.current[C]?y([...H.current[C]]):y([])},[C]);let J=async()=>{if(a)try{let e=await window.electronAPI.connectSerial(a,l);e.success?R(""):R(e.error||"Failed to connect")}catch(e){R("Connection failed")}},Q=async()=>{try{B(!0),await window.electronAPI.disconnectSerial(),g(null),b([]),y([]),k({}),setTimeout(()=>{B(!1),T(!1),z(!1)},800)}catch(e){R("Disconnection failed")}},X=async()=>{try{(await window.electronAPI.startLogging()).success&&(p(!0),D(0))}catch(e){R("Failed to start logging")}},Y=async()=>{try{(await window.electronAPI.stopLogging()).success&&p(!1)}catch(e){R("Failed to stop logging")}},Z=async()=>{try{let e=await window.electronAPI.exportCSV();e.success?R(""):R(e.error||"Export failed")}catch(e){R("Export failed")}};return L?M?(0,s.jsx)(q,{isDarkMode:F,onToggleDarkMode:U,ports:e,selectedPort:a,baudRate:l,error:A,isLogging:h,loggedCount:_}):O?(0,s.jsx)(K,{selectedPort:a,baudRate:l}):E?(0,s.jsx)(ez,{isConnected:u,isLogging:h,loggedCount:_,error:A,currentData:j,chartData:N,allChartData:w,selectedChart:C,isDarkMode:F,onToggleDarkMode:U,onDisconnect:Q,onStartLogging:X,onStopLogging:Y,onExportCSV:Z,onChartChange:e=>S(e)}):(0,s.jsx)(V,{isConnected:u,error:A,isDarkMode:F,onToggleDarkMode:U,ports:e,selectedPort:a,baudRate:l,onPortChange:n,onBaudRateChange:i,onConnect:J,onDisconnect:Q,onRefreshPorts:W}):(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)(o,{className:"w-96",children:[(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{children:"Electron Required"}),(0,s.jsx)(m,{children:"This application needs to run in Electron to access serial ports."})]}),(0,s.jsx)(x,{children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Please run: ",(0,s.jsx)("code",{className:"bg-muted px-1 rounded",children:"npm run electron-dev"})]})})]})})}},9440:(e,t,a)=>{Promise.resolve().then(a.bind(a,2217))}},e=>{var t=t=>e(e.s=t);e.O(0,[632,441,684,358],()=>t(9440)),_N_E=e.O()}]);